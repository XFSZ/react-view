# æ€è·¯

1. ç»„ä»¶ å¯å®šåˆ¶
2. ç»„ä»¶ å¯ä»¥å¼€æ”¾

# é—®é¢˜

1. gridstack å¦‚ä½•åŠ å…¥ echarts å›¾è¡¨ echarts éœ€è¦ä¸€ä¸ª id (
   å€’ä¸å¦‚è¯´ gridstack æ€ä¹ˆæ‰èƒ½ ä½¿ç”¨è‡ªå·±å¼€å‘çš„ç»„ä»¶ è¿™ä¸ªç»„ä»¶ è§„åˆ™æ˜¯ä»€ä¹ˆ ç›®å‰æŒ‰ç…§å®˜æ–¹çš„æƒ…å†µæˆ‘å¯ä»¥å†™è¿› html ä¸­ vue ä¸­ä½¿ç”¨ v-html echarts ç»„ä»¶ç›´æ¥ä½¿ç”¨é¡¹ç›®ä¸­çš„ )  
   ps:ç°åœ¨åˆæœ‰ä¸€ä¸ªé—®é¢˜äº† script æ ‡ç­¾æŠ¥é”™

2. echarts çš„ç»„ä»¶å‡½æ•°å¦‚ä½•å¼€æ”¾å‡ºæ¥ ä½¿å¾—å¯ä»¥è®¿é—® gridstack æœ‰ change äº‹ä»¶ å¯ä»¥ åˆ©ç”¨è¿™ä¸ªè¿›è¡Œ echarts çš„è‡ªåŠ¨ç¼©æ”¾ ä¸” id ä¸ä¼šé‡å¤

# ä¸€äº›å¼€æºç»„ä»¶

https://interactjs.io/docs/

https://github.com/SortableJS/Vue.Draggable

https://github.com/atlassian/react-beautiful-dnd

https://github.com/react-dnd/react-dnd

https://juejin.im/post/6844903470760214536

https://ftp.mozilla.org/pub/firefox/releases/51.0/win64/zh-CN/

https://github.com/MrXujiang/h5-Dooring

https://juejin.cn/post/6908502083075325959

# å½“å‰é¡¹ç›® å¾…è§£å†³çš„é—®é¢˜

1. å¦‚ä½•åŠ å…¥è‡ªå·±çš„ç»„ä»¶
2. é¡µé¢å¸ƒå±€å¦‚ä½•ä¿å­˜ ---> ç›®å‰æ²¡æœ‰ é¡µé¢ä¿å­˜é€»è¾‘ éœ€è‡ªå·±å¼€å‘ ç›®å‰çš„é¡µé¢ä¸­ä¸å­˜åœ¨ ç»„ä»¶ä½ç½®ä¿¡æ¯ éœ€è¦è‡ªå·± è¿›è¡Œ å¼€å‘
3. æ€æ ·æ·»åŠ  **layer** **_å±‚çº§_** é€»è¾‘
4. æ€æ ·å¤„ç† **å¤–æ¥æ•°æ®çš„** é€»è¾‘
5. æ˜¯å¦èƒ½å¤Ÿç¦»çº¿è¿è¡Œ ç›®å‰çœ‹å®Œå…¨å¯ä»¥
6. ç›®å‰ä¸èƒ½æœ‰ç©ºä½™åœ°æ–¹ ä¸èƒ½éšæ„æ‹–æ‹½
7. ç›®å‰è‡ªå¸¦çš„å›¾è¡¨å·¥å…·æ˜¯ antv çš„ f2
8. æ‚¬åœ
9. ä¸åœ°å›¾äº¤äº’
10. ä¸‹æ¢åˆ°æœ€åä¸€å±‚è¿›è¡Œè·³è½¬
11. ä¸‹æ¢

# é—®é¢˜

Qï¼šç©ºçš„ curPoint æ— æ³•ä¿å­˜å€¼ ä½†æ˜¯å¯ä»¥è‡ªå®šä¹‰
A:
è§£å†³åŠæ³• é¦–å…ˆ èƒ½å¤Ÿ åˆå§‹åŒ– é¡µé¢å¸ƒå±€ èµ‹å€¼ curPoint å’Œ pstate (ps: pstate æ— æ³•èµ‹å€¼)
å½“ç‚¹å‡»ç©ºå…ƒç´ æ˜¯å°† curPoint èµ‹å€¼ä¸ºé¡µé¢å…ƒç´ 

Qï¼šå…ƒç´ çš„æ˜¾éšå¦‚ä½•æ§åˆ¶ ä½¿ç”¨ visibility:hidden; visible;

Qï¼š layer å±‚çº§è§£å†³  
A:å±‚çº§æ¦‚å¿µ ä½¿ç”¨ z-index  
æ¯ä¸ª å…ƒç´  éƒ½æœ‰ä¸€ä¸ªå±‚çº§ è¾“å…¥æ¡† ç›´æ¥æ›´æ”¹ å±‚çº§ nice é‚£å›¾å±‚çš„æ˜¾éš å¦‚ä½•è®¾ç½®  
å¯ä»¥å¤šä¸€ä¸ª å›¾å±‚æ§åˆ¶é¢æ¿ ç”¨å›¾å±‚æ§åˆ¶é¢æ¿æå®š è¿™ä¸ªå›¾å±‚é¢æ¿ å¯ä»¥æ”¾åœ¨ é¡µé¢å®½é«˜æ§åˆ¶é‡Œé¢  
æ§åˆ¶é¢æ¿æ€æ ·è®¾è®¡ æ§åˆ¶é¢æ¿ å¾—èƒ½å¤Ÿæ–°åŠ  layer å›¾å±‚ å¹¶ä¸”èƒ½å¤Ÿè®©æ–°åŠ çš„å…ƒç´  æ”¾åœ¨ä¸Šé¢  
æ¯ä¸€ä¸ªå…ƒç´ ä¸Šå¾—æœ‰ä¸€ä¸ª z-index å€¼ æ§åˆ¶ä»–åœ¨æŸä¸€ä¸ªå±‚çº§ä¸Š  
è®¾è®¡ä¸€ä¸ª å…¬å…±å˜é‡ z-index å½“ å›¾å±‚æ§åˆ¶é¢æ¿ä¸Šçš„ å˜é‡æ”¹å˜æ—¶ æ¯”å¦‚ æ˜¾éš å°± åˆ©ç”¨ for å¾ªç¯å°†å…¶åœ¨æ­¤ z-index ä¸­çš„æ‰€æœ‰å…ƒç´ ä¿®æ”¹ä¸º æ˜¾ç¤º/éšè—  
é¢æ¿çš„é…ç½®ä¿¡æ¯ å¦‚ä¸‹ [{z-index:999,visibility:hidden;},{z-index:998,visibility:visible;}]  
å…ƒç´ ä¿¡æ¯ {id:'999999',z-index:999}
åˆ©ç”¨ pointData.map æ¯ä¸ªå…ƒç´ çš„ z-index å¹¶åˆ©ç”¨ style æ§åˆ¶å…¶æ‰€åœ¨å±‚çº§ åŠå…¶æ˜¾éš {z-index:999,visibility:hidden;}

Qï¼šæ€æ ·è®© echarts ç­‰å¤–æ¥æ’ä»¶ä¹Ÿå¯ä»¥æ§åˆ¶å…¶æ˜¾éšå‘¢  
Aï¼šè¿™ä¸ªè²Œä¼¼ä¸ç”¨ç°åœ¨æƒ³è¿™ä¸ªäº‹æƒ… æ¯•ç«Ÿéƒ½æ˜¯å†™æ­»åœ¨ä»£ç é‡Œçš„ ä¸æ˜¯ è¿˜æ˜¯å¾—æ§åˆ¶  
å¯ä»¥æŠŠ è¿™ä¸ªå±‚çº§æ”¹ä¸º å…¨å±€å…¬å…±å˜é‡ echarts å¯ä»¥ç›´æ¥è°ƒç”¨è¯¥å˜é‡  
ä¹Ÿå°±æ˜¯è¯´ echarts å›¾è¡¨çš„é¢æ¿ä¸Šå¤šä¸€ä¸ª ä»£ç æ§åˆ¶ å¼€æ”¾å‡ºä¸€ä¸ªé…ç½®ä¿¡æ¯
å½“ echarts å›¾è¡¨è¢«ç‚¹å‡»çš„æ—¶å€™åšä»€ä¹ˆ  
åˆé‡åˆ°ä¸€ä¸ªå‘ QAQ ğŸ˜­ æ€æ ·æ‰èƒ½ å°†å…¶è§¦å‘çš„äº‹ä»¶ åšæˆå…¨å±€å‘¢  
echarts çš„ onclick æ€ä¹ˆæ‰èƒ½ å˜æˆ æ‰€æœ‰çš„å‘¢ å°±æ˜¯ react èƒ½å¤Ÿè¯»åˆ°å¹¶æ‰§è¡Œ åŒ…æ‹¬æ–‡æœ¬ä¹‹ç±»çš„  
æ¯ä¸€ä¸ªå…ƒç´ çš„ id å…¨éƒ¨éƒ½æš´éœ²åœ¨è‡ªå·±çš„é¢æ¿ä¸­å¯ä»¥ æ–¹é¢å…¶ä»–å…ƒç´ è°ƒç”¨

é—®é¢˜ç½—åˆ— ç¬¬ä¸€ è¢«ç‚¹å‡»è¦èƒ½å¤Ÿæ”¹å˜å…¶ä»– å…ƒç´ çš„å€¼

åªèƒ½é€šè¿‡

```js
dispatch({
  type: "editorModal/modPointData",
  payload: { ...curPointData, point: newItem, status: "inToCanvas" },
});
```

- é‡ç»˜å¤§å°

- ç¬¬äºŒ echarts æ€æ ·æ·»åŠ  è¿™ä¸ªåŠŸèƒ½
  echarts è½´è¢«ç‚¹å‡» ä¹‹åæ€æ · ä¼ é€’äº‹ä»¶

```js
chart.on("click"); // ä¸­æ·»åŠ 
dispatch({
  type: "editorModal/modPointData",
  payload: { ...curPointData, point: newItem, status: "inToCanvas" },
});
```

> - æŠŠæŸ±å­çš„å€¼ id ä¼ ç»™ payload
> - é¦–å…ˆ echarts çš„é¢æ¿ä¸­ æš´éœ²ä¸€ä¸ª id çš„å‚æ•° ç„¶å å†™ä¸€ä¸ª get å‡½æ•° è·å–åˆ°è¿™ä¸ªç»„ä»¶é…ç½®
> - echarts é¢æ¿ä¸­å†™ è¿™ä¸ª id å¯¹åº”ç»„ä»¶çš„å¯¹åº” å±æ€§ æ¯”å¦‚ config.text æ”¹ç¼–æˆå¦ä¸€ä¸ªå€¼
> - æƒ³è¦æ”¹ä¸€å † id æˆ–è®¸ç”¨åˆ°å‡½æ•°æŸ¯é‡ŒåŒ–äº† å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ ğŸ¤£(å¤©é“å¥½è½®å›) for å¾ªç¯ id ç„¶ååšä¹Ÿè¡Œ
> - echarts çš„ api è¯·æ±‚ è¿˜æ²¡åšå‘¢ ã€‚ã€‚ã€‚ã€‚ğŸ¤¢ğŸ¤®ğŸ˜­

> - å†™æˆ json æ ¼å¼çš„ text string ç„¶å JSON.parse æˆ json

```js
// const { isTpl, data, color, size, paddingTop, title,chartparams } = props;
// é¢æ¿ä¸­çš„ json å­—ç¬¦ä¸² å¾—åšæˆå¼¹çª—å¼çš„ ç‚¹å‡»å®Œ ç¡®å®šå†æ‰§è¡Œ å› ä¸ºé¢æ¿ä¸­çš„ä¿®æ”¹æ˜¯å®æ—¶çš„ å®¹æ˜“å´©æºƒ
echarts.config.chartparams:
    [
      {id:'id',...item.config},
      {id:'id',...item.config}
   ]
// echarts ä¸­çš„é…ç½®
      chart.on('click', function (params) {
        for(let i =0;i<config.chartparams.length;i++){
            const userData = localStorage.getItem('userData') || '[]';
            for(let j=0;j<userData.length;j++){
                  if (j.id===config.chartparams[i].id ){
                        const modifyData = j;
                        const keys =  Object.keys(config.chartparams[i]); //è·å–æ‰€æœ‰ä¿®æ”¹çš„å€¼
                        keys.map(val=>{
                              modifyData.config[val] = config.chartparams[i].config[val]
                        })
                        dispatch({
                                    type: 'editorModal/modPointData',
                                    payload: { modifyData, point: newItem, status: 'inToCanvas' },
                              });
                   }
            }
            // if(config.chartparams[i].id==='0'){
            //       const modifyData = userData[0]
            //        modifyData.layerList =  config.chartparams[0].layerList
            //    dispatch({
            //       type: 'editorModal/modPointData',
            //       payload: { modifyData, point: newItem, status: 'inToCanvas' },
            //       });

            // }else{
            //       for(let j=0;j<userData.length;j++){
            //             if (j.id===config.chartparams[i].id && config.chartparams[i].id!=='0'){
            //                   const modifyData = j;
            //                  const keys =  Object.keys(config.chartparams[i]); //è·å–æ‰€æœ‰ä¿®æ”¹çš„å€¼
            //                   keys.map(val=>{
            //                    modifyData.config[val] = config.chartparams[i].config.val
            //                   })

            //    dispatch({
            //               type: 'editorModal/modPointData',
            //               payload: { modifyData, point: newItem, status: 'inToCanvas' },
            //             });
            //             }
            //       }


            // }



        }


      //   if(params.componentType === "xAxis"){

      //       console.log("å•å‡»äº†"+params.value+"xè½´æ ‡ç­¾");
      //   }else{
      //       console.log("å•å‡»äº†"+params.name+"æŸ±çŠ¶å›¾");
      //   }
    });

```

> - api è¯·æ±‚é—®é¢˜ echarts æŸ±å­è¢«ç‚¹å‡»ä¹‹å api å¦‚ä½•æ‹¼æ¥ è¿˜æœ‰ get å’Œ post çš„é—®é¢˜
> - å¦‚ä½•å°† è¯·æ±‚å›æ¥çš„æ•°æ® è¿›è¡ŒäºŒæ¬¡å¤„ç†

> - Qï¼š æ¢å¥è¯è¯´ å¾—å¤šä¸€ä¸ª æ•°æ®å¤„ç† è¯·æ±‚å›æ¥çš„æ•°æ®æ”¾åœ¨å“ªé‡Œ å¤„ç†é€»è¾‘ æ”¾åœ¨å“ªé‡Œã€‚ã€‚ã€‚ã€‚
> - Aï¼šapi è¯·æ±‚å›æ¥çš„å€¼ å…ˆä¼ ç»™ config ç„¶å æœ‰ä¸€ä¸ª ä¸­é—´å€¼ ç”¨æ¥å¤„ç†é€»è¾‘ å†èµ‹ç»™ data è°èµ‹ç»™ X è½´ è° èµ‹ç»™ Y è½´ å¥½å¤´ç–¼

> - Qï¼š echarts å®šæ—¶å™¨ api èµ‹å€¼

> - Aï¼š å½“ å®šæ—¶å™¨ ä¸º 0 çš„æ—¶å€™ å°±æ˜¯ä¸å­˜åœ¨ å®šæ—¶å™¨  
>    å½“ api ä¸º '' çš„æ—¶å€™ ä¸æ‰§è¡Œ api  
>    èµ‹å€¼é—®é¢˜ å¦‚ä½•ç»™ echarts è¿™ä¸ª å›¾è¡¨èµ‹å€¼ æ¥å£å¦‚ä½•å¼€æ”¾ æŸ±çŠ¶å›¾ æœ‰ X Y ä½†æ˜¯å…¶ä»–çš„ä¸å­˜åœ¨å•Š å¤´ç–¼ å•ç‹¬å†™å§ã€‚ã€‚ã€‚ã€‚  
>    å®šæ—¶å™¨ å¯åŠ¨å’Œå…³é—­ å¦‚ä½•å½±å“ api api æ¥æ”¶çš„å€¼ å¦‚ä½•å½±å“ echarts  
>   æ•°å­—å¦‚ä½•æ”¹å˜ é€šè¿‡ echarts åˆå§‹åŒ– è¿˜æ˜¯é€šè¿‡ è‡ªèº«æºå¸¦ api è¿™ä¸¤ä¸ªè²Œä¼¼éƒ½å¯ä»¥  
>   echarts çš„æ›´æ–°åªèƒ½é€šè¿‡ è¯·æ±‚ api æ”¹å˜  
>   æ¯ä¸ªç»„ä»¶æœ‰ä¸¤ä¸ª åŠŸèƒ½ ä¸€ä¸ªæ˜¯ é€šè¿‡ api æ”¹å˜ è‡ªèº« ä¸€ä¸ªæ˜¯ é€šè¿‡ ç‚¹å‡»æ”¹å˜å…¶ä»–çš„ ç»„ä»¶  
>   api çš„ prams å¯ä»¥è¢«ç»„ä»¶åŠ¨æ€ç¼–è¾‘ {}

```js
const {
  isTpl,
  data,
  color,
  size,
  paddingTop,
  title,
  api,
  timer,
  clickParams,
} = props;
if (timer === 0) {
  axios.get(`${api}`).then(function (response) {
    console.log("response : ", response);
  });
} else {
  setInterval(() => {
    axios.get(`${api}`).then(function (response) {
      console.log("response : ", response);
    });
    chart.setOption(option);
    chart.resize();
  }, config.timer);
}
```

```js
// const { isTpl, data, color, size, paddingTop, title,chartparams,idï¼Œapiï¼Œtimer } = props;

axios.get(`${api}`).then(function (response) {
  console.log("response : ", response);
});

// æ·»åŠ  æ—¶é—´å‡½æ•°
setInterval(() => {
  console.log("è¿™æ˜¯ä¸€ä¸ªå®šæ—¶å™¨");
  axios.get(`${api}`).then(function (response) {
    console.log("response : ", response);
  });
  chart.setOption(option);
  chart.resize();
}, config.timer);
```

---

# ç¬¬ä¸€é˜¶æ®µ

---

# åŠŸèƒ½åˆ—è¡¨

> âœ… é¢æ¿ + å›¾å±‚ å·²åŠ  å·²å®ç°  
> âœ… å¯æ‹–æ‹½ å·²å®ç°  
> âœ… å¯æ”¾å¤§ç¼©å° ç§»åŠ¨ å·²å®ç°  
> âœ… åŸºç¡€ç»„ä»¶ä¹‹é—´ä¼ å€¼ å·²å®ç°  
> âœ… ä¿®æ”¹ echarts data æ•°æ® å·²å®ç°  
> âœ… api æ•°æ®è¯·æ±‚ å·²å®ç° https://zhuanlan.zhihu.com/p/96030406 https://www.jianshu.com/p/5cb3a84dd40b å®šæ—¶è¯·æ±‚é—®é¢˜ ä»¥åå¯èƒ½ç”¨çš„åˆ°  
> âœ… å®šæ—¶åˆ·æ–°é—®é¢˜ã€‚ã€‚ã€‚ã€‚ setInterval å·²å®ç°  
> âœ… **ä½ç½®é€»è¾‘ç­‰ä¿¡æ¯ ä¿å­˜åå°åŠŸèƒ½ å·²å®ç°** pm2 nodejs(ver.12) nodemon  
> âœ… å›¾è¡¨ç»„ä»¶ (æ²¡æœ‰ç¬¬ä¸‰æ–¹ åªèƒ½å†™æ­»åœ¨ç³»ç»Ÿä¸­) å·²æ·»åŠ å®Œæˆ

> âœ… å›¾è¡¨ç»„ä»¶ å…¼å®¹æ€§å·¥ä½œ æ­£åœ¨è¿›è¡Œä¸­

> âŒ ä¸‹æ¢ æœªå®ç° ä¿®æ”¹ echarts api

# Task Plan List

999. â• æ”¾å¼ƒæ²»ç–— ğŸ˜‚ğŸ˜‡ğŸ˜¥ å¼€å§‹ä½¿ç”¨ G2 - plot
1000. âœ… echarts å®½é«˜ é—®é¢˜ ????? ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ å¿˜äº†æ˜¯å•¥é—®é¢˜äº† åæ­£éƒ½åˆ‡æˆ G2 äº† æ— æ‰€è°“äº†
1001. âœ… å¸ƒå±€è®°å½•æ··ä¹±é—®é¢˜
1002. âœ… æ•°å€¼æ›´æ–°é—®é¢˜ éœ€è¦æ·»åŠ  request
1003. âœ… å°† zIndex æ”¾åœ¨ å…ƒç´ çš„ style ä¸­
1004. âœ… å…ƒç´ å¤§å°ä¹Ÿè¦è¢«è®°å½• æ”¾åœ¨ config ä¸­
1005. âœ… å…ƒç´ ä½ç½® ä¹Ÿè¦è¢«æ·»åŠ è¿›å» æ”¾åœ¨ config ä¸­
1006. âœ… preview è¦å¢åŠ  å±…ä¸­åŠŸèƒ½
1007. âœ… åˆå§‹åŒ– æ—¶ é™å®šå®½åº¦
1008. âœ… é¡µé¢é€»è¾‘è¦å˜ å˜ä¸ºåªæœ‰ä¸¤ä¸ªæŒ‰é’® ä¸€ä¸ªæ˜¯ä¿®æ”¹æŒ‰é’® ä¸€ä¸ªæ˜¯å±•ç¤ºæŒ‰é’®
1009. âœ… echarts æ‹–åŠ¨æ—¶ æ— åˆ·æ–°é‡ç»˜é—®é¢˜
1010. âœ… èƒŒæ™¯å›¾ç‰‡åå° ç›´æ¥é™æ€æ–‡ä»¶ä¸ä½¿ç”¨æ•°æ®åº“ ç„¶å ç›´æ¥ api è°ƒç”¨å°±è¡Œäº†å˜»å˜» (â—'â—¡'â—)
1011. âœ… èƒŒæ™¯å›¾ç‰‡è¦æ·»åŠ  api è®¿é—®
1012. âœ… æ·»åŠ é¡µé¢åˆå§‹åŒ–ç­‰å¾… ç”¨æ¥è¯·æ±‚åå°çš„å€¼ ç„¶å åˆ·æ–°é¡µé¢ä¸ºå·²ä¿å­˜é¡µé¢
1013. âœ… é¢„è§ˆé¡µé¢é€»è¾‘ è¿˜æ˜¯æ²¡æœ‰åˆ†å±‚ éœ€è¦æ·»åŠ æˆ å’Œ åˆ›å»ºé¡µé¢ä¸€æ ·çš„é€»è¾‘
1014. âœ… grid layout è²Œä¼¼åªèƒ½ ä¸€æ ¼ä¸€æ ¼çš„ éœ€è¦å‡å° æ ¼å­çš„å¤§å° è·ç¦»é—®é¢˜é€‚é… ğŸ˜¥ ä¿®æ”¹ æ ¼å­ ä¸ªæ•° cols={9999} ä¿®æ”¹åˆå§‹ w ä¿®æ”¹ä¸º w=600
1015. âœ… é¢„è§ˆ preview é¡µé¢çš„ å±•ç¤ºé—®é¢˜ ç›®å‰æ€»æ˜¯çš„ å¤šå‡ºä¸€ç‚¹ å¯èƒ½å› ä¸º æ …æ ¼çš„åŸå›  æœ‰æ—¶å€™ä¼šæœ‰æœªçŸ¥å…ƒç´ åœ¨ä¸‹é¢æ’å¸ƒ æ‰€ä»¥å¯¼è‡´çš„æ‹‰é•¿ ï¼Œå¯èƒ½æ˜¯ä¹‹å‰ çæ‹–æ‹½ å¯¼è‡´çš„
1016. ğŸ’¹ ğŸ˜¥ ğŸ’¨ğŸ’¦ğŸ’¤ğŸ’¥ ç¼–è¾‘ç•Œé¢ å¯ä»¥è·³è½¬ ä½†æ˜¯ é¢„è§ˆé¡µé¢æœ‰é—®é¢˜ å› ä¸ºä¿®æ”¹æ— æ³• åé¦ˆç»™ é¢„è§ˆé¡µé¢ è§£å†³åŠæ³• è¿™ä¸ª æœ‰ä¸¤ä¸ª ä¸€ä¸ªæ˜¯æŒ‰ç€ æ‹–æ‹½çš„åœ°æ–¹ç›´æ¥æ‹·è´ å¦å¤–ä¸€ä¸ªé€»è¾‘å°±æ˜¯è¿™ä¸ª é¢„è§ˆé¡µé¢å•ç‹¬æœ‰ä¸€ä¸ª store é¦–å…ˆå®ç° å•ç‹¬ store åœ¨ click å‡½æ•°ä¸­æ·»åŠ åˆ¤æ–­ ä¿®æ”¹é‚£ä¸ªï¼Ÿ è²Œä¼¼ç°åœ¨ä¸ç”¨ ä»¥åå¯èƒ½ éœ€è¦
1017. ğŸ’¹ å›¾è¡¨ å¼€æ”¾ å„è½´ api é€‚é… å›¾è¡¨
1018. ğŸ’¹ è¿˜æ˜¯å¾— æ·»åŠ ä¸€ä¸ª data å­—æ®µ ç”¨æ¥ åŠ¨æ€ æ”¹å˜æ•°æ® é˜¿è¥¿å§å•Š ç°åœ¨è¿˜æ˜¯ä¸èƒ½åŠ  é€»è¾‘å¤ªæ··ä¹± ä½†è¦æ˜¯ä¸åŠ  æ— æ³•ä¿®æ”¹ å…¶ä»–å›¾è¡¨çš„å€¼ å¦å¤–ä¿®æ”¹ å…¶ä»–ç»„ä»¶çš„ api å å…¶ä»–ç»„ä»¶ä¹Ÿæœªå¿…ä¼šç›´æ¥æ‰§è¡Œ å› ä¸ºæœ‰æ—¶é—´ setInterval çš„é—®é¢˜ å¼€å°±å¼€å§ æ²¡åŠæ³•äº† å†²çªå°±å†²çªå§ åŒå€¼çš„æ€ä¹ˆåŠ å¼€ä¸¤ä¸ª å“è¥¿å§å™¢
1019. âœ… æŠ½ç¦» url ä½¿å¾— æ‰“åŒ…ä¹‹å‰ ä¸ç”¨æŒ¨ä¸ªä¿®æ”¹ url

1020. âŒ é€šè¿‡ echarts onclick è·å– prams èµ‹å€¼ ä¿®æ”¹ config ä¸­çš„ api prams å†æƒ³æƒ³å§ è¿˜æ˜¯æœ‰ç‘•ç–µ ä¸‡ä¸€ä¸æ˜¯ onclick çš„å€¼ è€Œæ˜¯å¯¹åº”çš„ code è¿™ç§å¤šäº†ä¸€å±‚ è½¬æ¢çš„æ€ä¹ˆåŠ
1021. âŒ echarts çš„èµ‹å€¼é—®é¢˜ å„ä¸ªè½´éƒ½æ˜¯ response çš„å“ªä¸ªå­—æ®µ ï¼ˆ è§£å†³æ·±å±‚ç›¸åŒ key èµ‹å€¼ ï¼‰ æœ‰æ•°ç»„æœ‰å¯¹è±¡ æ‰€ä»¥ ã€‚ã€‚ã€‚ã€‚ å“è¥¿å§ object(key) å¾ªç¯æ£€æµ‹ æŒ‡å®š key è²Œä¼¼è§£å†³äº†

1022. âŒ é»˜è®¤æœ‰ä¸€ä¸ª 1 å±‚çº§ ä¸” 1 å±‚çº§ å§‹ç»ˆæ˜¾ç¤º ä¸ç„¶å„ç§ æ”¾ä¸ä¸Šå» ã€‚ã€‚ã€‚ã€‚ ğŸ˜¥

```js
// ç‚¹å‡» è£…å¤‡ä¿éšœç»¼åˆæ€åŠ¿  11 12 å›¾å±‚éšè—
[
  {
    id: "0",
    config: {
      layerList: [
        { zIndex: 2, visibility: 1, desc: "é»˜è®¤å±‚çº§", id: "0" },
        { zIndex: 3, visibility: 1, desc: "æ–°å¢é¡¹æè¿°", id: "32842647" },
        { zIndex: 11, visibility: 0, desc: "å­èƒŒæ™¯æ¿", id: "61365059" },
        { zIndex: 12, visibility: 0, desc: "å­å†…å®¹", id: "99817402" },
      ],
    },
  },
][
  // ç‚¹å‡»é£æ•°è´¨é‡  11 12 å›¾å±‚æ˜¾ç¤º
  {
    id: "0",
    config: {
      layerList: [
        { zIndex: 2, visibility: 1, desc: "é»˜è®¤å±‚çº§", id: "0" },
        { zIndex: 3, visibility: 1, desc: "æ–°å¢é¡¹æè¿°", id: "32842647" },
        { zIndex: 11, visibility: 1, desc: "å­èƒŒæ™¯æ¿", id: "61365059" },
        { zIndex: 12, visibility: 1, desc: "å­å†…å®¹", id: "99817402" },
      ],
    },
  }
];
```

https://g2.antv.vision/zh/docs/manual/getting-started  
https://github.com/liuyuqin1991/react-echarts

```js
// preview click test

[{ id: "554385", config: { text: "æˆåŠŸäº†" } }];
```

> - ## ä¼ å€¼é—®é¢˜
> - å¼€æ”¾ data api ç”¨æ¥ åŠ¨æ€æ”¹å˜å€¼ å‘¨äºŒå®Œæˆ âœ…
> - æ”¹å˜é¢œè‰² å‘¨ä¸‰å®Œæˆ âœ…
> - ç”»å‡ºæ•´ä¸ªé¡µé¢ å‘¨å››å®Œæˆ âœ…
> - æ‰“åŒ…æµ‹è¯• æ”¾åˆ°åå° å‘¨å›› å‘¨äº”å®Œæˆ âœ…

```js
// ç‚¹å‡»æŸ±çŠ¶å›¾
[
  {
    id: "475589",
    config: {
      text: "18",
    },
  },
  {
    id: "684257",
    config: {
      text: "199",
    },
  },
  {
    id: "743685",
    config: {
      text: "89",
    },
  },
  {
    id: "254269",
    config: {
      dataSet: `[
      {
        country: 'åœ¨é˜Ÿå®Œå¥½æ•°',
        year: 'j20',
        value: 50,
      },
      {
        country: 'åœ¨é˜Ÿå®Œå¥½æ•°',
        year: 'j10',
        value: 35,
      },
      {
        country: 'åœ¨é˜Ÿå®Œå¥½æ•°',
        year: 'j10c',
        value: 9,
      },
      {
        country: 'åœ¨é˜Ÿå®Œå¥½æ•°',
        year: 'j5',
        value: 97,
      },
      {
        country: 'åœ¨é˜Ÿå®Œå¥½æ•°',
        year: 'j6',
        value: 102,
      },
      {
        country: 'åœ¨é˜Ÿå®Œå¥½æ•°',
        year: 'å…¶ä»–',
        value: 64,
      },
      {
        country: 'åœ¨å‚å¤§ä¿®æ•°',
        year: 'j20',
        value: 6,
      },
      {
        country: 'åœ¨å‚å¤§ä¿®æ•°',
        year: 'j10',
        value: 17,
      },
      {
        country: 'åœ¨å‚å¤§ä¿®æ•°',
        year: 'j10c',
        value: 11,
      },
      {
        country: 'åœ¨å‚å¤§ä¿®æ•°',
        year: 'j5',
        value: 13,
      },
      {
        country: 'åœ¨å‚å¤§ä¿®æ•°',
        year: 'j6',
        value: 21,
      },
      {
        country: 'åœ¨å‚å¤§ä¿®æ•°',
        year: 'å…¶ä»–',
        value: 77,
      },
     ]`,
    },
  },
  {
    id: "586791",
    config: {
      dataSet: ` [
      { sessions: '10.01', visits: 20, type: 'å®Œå¥½æ•°' },
      { sessions: '10.01', visits: 50, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.02', visits: 100, type: 'å®Œå¥½æ•°' },
      { sessions: '10.02', visits: 200, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.03', visits: 50, type: 'å®Œå¥½æ•°' },
      { sessions: '10.03', visits: 20, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.04', visits: 60, type: 'å®Œå¥½æ•°' },
      { sessions: '10.04', visits: 30, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.05', visits: 70, type: 'å®Œå¥½æ•°' },
      { sessions: '10.05', visits: 48, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.06', visits: 70, type: 'å®Œå¥½æ•°' },
      { sessions: '10.06', visits: 37, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.07', visits: 78, type: 'å®Œå¥½æ•°' },
      { sessions: '10.07', visits: 38, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.08', visits: 79, type: 'å®Œå¥½æ•°' },
      { sessions: '10.08', visits: 39, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.09', visits: 75, type: 'å®Œå¥½æ•°' },
      { sessions: '10.09', visits: 35, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.10', visits: 70, type: 'å®Œå¥½æ•°' },
      { sessions: '10.10', visits: 40, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.11', visits: 70, type: 'å®Œå¥½æ•°' },
      { sessions: '10.11', visits: 40, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.12', visits: 70, type: 'å®Œå¥½æ•°' },
      { sessions: '10.12', visits: 40, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.13', visits: 80, type: 'å®Œå¥½æ•°' },
      { sessions: '10.13', visits: 30, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.14', visits: 80, type: 'å®Œå¥½æ•°' },
      { sessions: '10.14', visits: 30, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.15', visits: 85, type: 'å®Œå¥½æ•°' },
      { sessions: '10.15', visits: 45, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.16', visits: 80, type: 'å®Œå¥½æ•°' },
      { sessions: '10.16', visits: 30, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.17', visits: 86, type: 'å®Œå¥½æ•°' },
      { sessions: '10.17', visits: 36, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.18', visits: 83, type: 'å®Œå¥½æ•°' },
      { sessions: '10.18', visits: 43, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.19', visits: 80, type: 'å®Œå¥½æ•°' },
      { sessions: '10.19', visits: 40, type: 'å¤§ä¿®æ•°' },
    ]`,
    },
  },
]

// ç‚¹å‡»é£æœºæ•°è´¨é‡

[
  {
    id: "475589",
    config: {
      text: "157",
    },
  },
  {
    id: "684257",
    config: {
      text: "1324",
    },
  },
  {
    id: "743685",
    config: {
      text: "132",
    },
  },
  {
    id: "254269",
    config: {
   dataSet: `[
      {
        country: 'åœ¨é˜Ÿå®Œå¥½æ•°',
        year: 'æ­¼å¼ºæœº',
        value: 502,
      },
      {
        country: 'åœ¨é˜Ÿå®Œå¥½æ•°',
        year: 'è½°ç‚¸æœº',
        value: 635,
      },
      {
        country: 'åœ¨é˜Ÿå®Œå¥½æ•°',
        year: 'è¿è¾“æœº',
        value: 809,
      },
      {
        country: 'åœ¨é˜Ÿå®Œå¥½æ•°',
        year: 'æ— äººæœº',
        value: 947,
      },
      {
        country: 'åœ¨é˜Ÿå®Œå¥½æ•°',
        year: 'ç‰¹ç§æœº',
        value: 1402,
      },
      {
        country: 'åœ¨é˜Ÿå®Œå¥½æ•°',
        year: 'å…¶ä»–',
        value: 3634,
      },
      {
        country: 'åœ¨å‚å¤§ä¿®æ•°',
        year: 'æ­¼å¼ºæœº',
        value: 106,
      },
      {
        country: 'åœ¨å‚å¤§ä¿®æ•°',
        year: 'è½°ç‚¸æœº',
        value: 107,
      },
      {
        country: 'åœ¨å‚å¤§ä¿®æ•°',
        year: 'è¿è¾“æœº',
        value: 111,
      },
      {
        country: 'åœ¨å‚å¤§ä¿®æ•°',
        year: 'æ— äººæœº',
        value: 133,
      },
      {
        country: 'åœ¨å‚å¤§ä¿®æ•°',
        year: 'ç‰¹ç§æœº',
        value: 221,
      },
      {
        country: 'åœ¨å‚å¤§ä¿®æ•°',
        year: 'å…¶ä»–',
        value: 767,
      },
     ]`,
    },
  },
  {
    id: "586791",
    config: {
         dataSet: ` [
      { sessions: '10.01', visits: 620, type: 'å®Œå¥½æ•°' },
      { sessions: '10.01', visits: 350, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.02', visits: 600, type: 'å®Œå¥½æ•°' },
      { sessions: '10.02', visits: 300, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.03', visits: 750, type: 'å®Œå¥½æ•°' },
      { sessions: '10.03', visits: 320, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.04', visits: 630, type: 'å®Œå¥½æ•°' },
      { sessions: '10.04', visits: 360, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.05', visits: 780, type: 'å®Œå¥½æ•°' },
      { sessions: '10.05', visits: 408, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.06', visits: 770, type: 'å®Œå¥½æ•°' },
      { sessions: '10.06', visits: 387, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.07', visits: 768, type: 'å®Œå¥½æ•°' },
      { sessions: '10.07', visits: 388, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.08', visits: 769, type: 'å®Œå¥½æ•°' },
      { sessions: '10.08', visits: 399, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.09', visits: 765, type: 'å®Œå¥½æ•°' },
      { sessions: '10.09', visits: 385, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.10', visits: 760, type: 'å®Œå¥½æ•°' },
      { sessions: '10.10', visits: 450, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.11', visits: 730, type: 'å®Œå¥½æ•°' },
      { sessions: '10.11', visits: 470, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.12', visits: 700, type: 'å®Œå¥½æ•°' },
      { sessions: '10.12', visits: 460, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.13', visits: 800, type: 'å®Œå¥½æ•°' },
      { sessions: '10.13', visits: 320, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.14', visits: 830, type: 'å®Œå¥½æ•°' },
      { sessions: '10.14', visits: 350, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.15', visits: 825, type: 'å®Œå¥½æ•°' },
      { sessions: '10.15', visits: 415, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.16', visits: 810, type: 'å®Œå¥½æ•°' },
      { sessions: '10.16', visits: 330, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.17', visits: 826, type: 'å®Œå¥½æ•°' },
      { sessions: '10.17', visits: 346, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.18', visits: 833, type: 'å®Œå¥½æ•°' },
      { sessions: '10.18', visits: 443, type: 'å¤§ä¿®æ•°' },
      { sessions: '10.19', visits: 880, type: 'å®Œå¥½æ•°' },
      { sessions: '10.19', visits: 490, type: 'å¤§ä¿®æ•°' },
    ]`,
    },
  },
]
```

7-11 è¿™å‘¨ å°ç‰ˆå®Œæˆä¸¤ä¸ª å¯æ¼”ç¤º é¡µé¢
14-18 ä¸‹å‘¨ æµ‹è¯•å½“å‰ç³»ç»Ÿ ç¨³å®šæ€§ å¹¶å»å—äº¬éƒ¨ç½²
21-25 ä¸‹ä¸‹å‘¨ å®Œå–„ å›¾è¡¨ åŠŸèƒ½é¢æ¿åŠŸèƒ½
28-31 ä¸‹ä¸‹ä¸‹å‘¨ å®Œå–„ å›¾è¡¨ åŠŸèƒ½é¢æ¿åŠŸèƒ½ æµ‹è¯•ç¨³å®šæ€§

> - ## å¸ƒå±€æ··ä¹±é—®é¢˜ âœ…
> - å¸ƒå±€æ··ä¹±æ˜¯å› ä¸º react-grid-layout ä½¿ç”¨çš„æ˜¯ gird å¸ƒå±€æ‰€ä»¥æ‰æœ‰é—®é¢˜ è§£å†³çš„æ¢ åŸºæœ¬ç»„ä»¶ å…³äºä½ç½®ä¿¡æ¯çš„ éƒ½è¦é‡å†™äº† ã€‚ã€‚ã€‚ã€‚ é—®é¢˜æ˜¯è¿˜ä¸çŸ¥é“ èƒ½ä¸èƒ½é‡å†™ æˆåŠŸ ğŸ¤¢ğŸ¤®ğŸ˜­ğŸ™‚

> - ## å±‚çº§é—®é¢˜ âœ…
> - é¦–å…ˆ åˆå§‹çŠ¶æ€ä¸‹å°±å¾—æœ‰ ä¸€ä¸ªå±‚çº§
> - å…¶æ¬¡ é¦–å…ˆè¿›è¡Œ map pointData çš„å±‚çº§ ç„¶ååˆ›å»ºå¤šä¸ª GridLayout åœ¨å¤šä¸ªå±‚çº§ä¸Š ä¸çŸ¥é“èƒ½ä¸èƒ½æˆåŠŸ.... ç›®å‰æ¥çœ‹å¯ä»¥  
>   é‚£ä¹ˆé€»è¾‘å°±å˜æˆäº† é¦–å…ˆè¿›è¡Œ map å±‚çº§ ç„¶ååˆ›å»º å¤šä¸ª grid grid åœ¨æ¸²æŸ“çš„æ—¶å€™ map åˆ¤æ–­æ¯ä¸ª å…ƒç´  æ‰€åœ¨å±‚çº§ å¯é€‰åˆ™ çš„æ¸²æŸ“ åªæ¸²æŸ“ç›¸åŒ å±‚çº§çš„

> - ## åå°åŠŸèƒ½ âœ…
> - åå°åªèƒ½ä¿å­˜å½“å‰å”¯ä¸€ çš„ä¸€ä¸ªå¤§å±
> - é‚£åå°æ˜¯ sqllite3 è¿˜æ˜¯ json æ–‡ä»¶å‘¢ã€‚ã€‚ã€‚ã€‚ è¿˜æ˜¯ sqllite3 å§
> - åå°ä¿å­˜å­—æ®µ userData å…¶ä»–è²Œä¼¼ä¸ç”¨ä¿å­˜ å›¾ç‰‡ä¸Šä¼ ä¹‹ç±»çš„ emmmmm ä¹‹åå†åŠ å§
>   https://blog.windisco.com/json-string-into-sqlite3/ > https://blog.csdn.net/qq_38081746/article/details/90673681  
>   Databaseï¼šæ–°å»ºå¹¶æ‰“å¼€ sqlite3 æ•°æ®åº“æ–‡ä»¶  
>   closeï¼šå…³é—­æ•°æ®åº“  
>   runï¼šæ‰§è¡Œå•æ¡è¯­å¥ä»¥åˆ›å»º/æ›´æ”¹è¡¨æ ¼æˆ–æ’å…¥/æ›´æ–°æ•°æ®  
>   getï¼šæŸ¥è¯¢ä¸€æ¡æ•°æ®  
>   execï¼šæ‰§è¡Œå¤šæ¡è¯­å¥ä»¥åˆ›å»º/æ›´æ”¹è¡¨æ ¼æˆ–æ’å…¥/æ›´æ–°æ•°æ®  
>   allï¼šæŸ¥è¯¢å¤šæ¡æ•°æ®  
>   eachï¼šæŸ¥è¯¢å¤šæ¡æ•°æ®å¹¶å¯¹æ¯æ¡æ•°æ®æ‰§è¡Œå›è°ƒ

ç›®å‰åªæœ‰æŸ±çŠ¶å›¾ èƒ½å¤Ÿè¢«ç‚¹å‡»

æ–‡å­—åŠ ç²—

å­—ä½“ å¾®è½¯é›…é»‘

---

# ç¬¬äºŒé˜¶æ®µ

---

# bug

> - æ¸…ç©ºæ—¶ åˆå§‹å±‚ä¸¢å¤± ç•™åˆ°ä»¥ååš
> - åº•éƒ¨è¶…å‡º é—®é¢˜ è¿˜æ˜¯ä¿®æ”¹å¤±è´¥äº† global css root ä¸‹æ·»åŠ  overflow è¿˜æ˜¯ä¸è¡Œ ã€‚ã€‚ã€‚ã€‚ åœ¨ preview ä¸‹æ·»åŠ  position:relative overflow æˆåŠŸ âœ…
> - â— å¤åˆ¶å…ƒç´ æ—¶ æ— æ³•ä¿®æ”¹ id âœ…
> - æ‹–æ‹½ æ— æ³•ä¿®æ”¹ é«˜åº¦ ã€‚ã€‚ã€‚ã€‚ã€‚ preventCollision é—®é¢˜ è‡ªå·±ç»™è‡ªå·±æŒ–äº†ä¸€ä¸ªå‘ æ—¥äº†ç‹—äº† âœ…   æ­£ç¡®é…ç½®ï¼š compactType={null}  verticalCompact={false} ï¼ˆå¯ä¸é…ï¼‰  preventCollision={true}


### bug ä¿®æ”¹
> - åº•éƒ¨è¶…å‡º é—®é¢˜ 
> - å¤åˆ¶å…ƒç´ æ—¶ æ— æ³•ä¿®æ”¹ id 
> - æ‹–æ‹½ æ— æ³•ä¿®æ”¹ é«˜åº¦ 
> - ç¼©æ”¾é—®é¢˜ ç¼©æ”¾ä¹‹åä¸èƒ½è¿›è¡Œæ‹–æ‹½ 

### ä¼˜åŒ–
> - ç½‘é¡µå‚¨å­˜ å¤ªå¤šçš„è¯ä¼šè¶…å‡º 4M ä¸èƒ½ localStorage äº† æ”¹ä¸º indexdb
> - url é€šè¿‡ ä»£ç†è¿›è¡ŒæŠ½ç¦»
> - ä¸€æ¬¡æ€§dispatch è€Œä¸æ˜¯é€ä¸ª dispatch 
> - å‡å°‘åˆ°äº† grid ä¸­çš„æ— ç”¨ DIV ä¹Ÿå‡å°‘äº† æ— ç”¨å±‚çº§ ä¼˜åŒ–æ•ˆæœæå‡æ˜æ˜¾  

### åŠŸèƒ½æ·»åŠ 
> - SourceBox éœ€è¦æ·»åŠ æœ‰ä¸€ä¸ª æ»šåŠ¨æ¡ ç”¨æ¥æ§åˆ¶ æ˜¾ç¤ºåŒºåŸŸ
> - å›¾ç‰‡çš„æ•°æ®åº“  è§£å†³å›¾ç‰‡è¿ç§»ä¸æ–¹ä¾¿ çš„é—®é¢˜

### ä¸‹å‘¨ 
> - æµ‹è¯• åœ°å›¾æ”¾è¿› å¤§å±ç³»ç»Ÿä¸­
> - å¯ä»¥æŠŠåŠ¨ä½œå¼€å‡ºæ¥ ä¸€ä¸ªæ˜¯å¯ä»¥é€‰æ‹©ç»„ä»¶ åæ­£å¯ä»¥çœ‹åˆ° id å¯ä»¥è¿›ä¸€æ­¥å°è£…
> - åœ°å›¾åº•å›¾åˆ¶ä½œ
> - åœ¨åœ°å›¾ä¸­æ·»åŠ  æ‰“ç‚¹

# æ–°è®¡åˆ’

> - ç«ç‹ 51 å¡é¡¿é—®é¢˜ æ˜¯å¦éœ€è¦å¤šä¸ªé¡µé¢ æ‹¼åˆ G2 å¯èƒ½ä¸º G2 ä¼˜åŒ–é—®é¢˜ è¿™ä¸‹å°± ä»»é‡è€Œé“è¿œäº† âœ…
> - å¯ä»¥æŠŠåŠ¨ä½œå¼€å‡ºæ¥ ä¸€ä¸ªæ˜¯å¯ä»¥é€‰æ‹©ç»„ä»¶ åæ­£å¯ä»¥çœ‹åˆ° id å¯ä»¥è¿›ä¸€æ­¥å°è£… âŒ
> - å¤ªå¤šçš„è¯ä¼šè¶…å‡º 4M ä¸èƒ½ localStorage äº† æ”¹ä¸º indexdb âœ… https://github.com/localForage/localForage https://github.com/pouchdb/pouchdb
> - è¿˜æ˜¯éœ€è¦ä¸€ä¸ª å›¾ç‰‡çš„æ•°æ®åº“ ä¸ç„¶ è¿ç§»ä¸æ–¹ä¾¿ ä¹‹å‰çš„ å›¾ç‰‡é“¾æ¥ æ‰“åŒ…å æ— æ³• ä¿®æ”¹ âœ…
> - ç¼©æ”¾é—®é¢˜ ç¼©æ”¾ä¹‹åä¸èƒ½è¿›è¡Œæ‹–æ‹½ âœ…
> - url é€šè¿‡ ä»£ç†è¿›è¡ŒæŠ½ç¦» âœ…
> - æµ‹è¯• åœ°å›¾æ”¾è¿›å» https://github.com/mokrayaGISka/react-openlayers-lesson1 https://github.com/terrestris/react-geo https://github.com/allenhwkim/react-openlayers  https://supermapwebgis.gitbooks.io/modern-web-gis-in-action/content/kai-fa-zhi-nan/for-openlayers/shu-ju-ke-shi-hua/mapv.html https://iclient.supermap.io/ (è¿™çœŸçš„æ˜¯ äººå¤–æœ‰äººå¤©å¤–æœ‰å¤©) https://osmbuildings.org/ https://github.com/OSMBuildings/OSMBuildings  https://iclient.supermap.io/examples/component/examples.html  âŒ  
> - SourceBox éœ€è¦æ·»åŠ æœ‰ä¸€ä¸ª æ»šåŠ¨æ¡ ç”¨æ¥æ§åˆ¶ æ˜¾ç¤ºåŒºåŸŸ âœ…
> - ä¸€æ¬¡æ€§dispatch è€Œä¸æ˜¯é€ä¸ª dispatch  å¯èƒ½æ˜¯å› ä¸ºä¸€ä¸ªdispatchå°±ä¼šå¼•èµ·ä¸€æ¬¡é‡ç»˜  ä¸€æ¬¡æ€§ç›´æ¥ æå®šå°±ä¸ä¼šæœ‰ å¤ªå¤šçš„ é‡ç»˜ âœ…
## **ä¸€äº›å‚è€ƒèµ„æ–™**

https://www.bookstack.cn/read/es6-3rd/spilt.7.docs-async.md  
https://bit.dev/  
https://github.com/MostlyAdequate/mostly-adequate-guide

## ç«ç‹ 51 å¡é¡¿ localStorage é—®é¢˜

è™½è¯´ è¦æ”¹ä¸º localForage ä½¿ç”¨ indexdb ï¼Œä½†æ˜¯ç›®å‰æ¥çœ‹ è¿™ä¸€ä¸ªé¡µé¢ å°±ç”¨äº† 188kb çš„å‚¨å­˜ç©ºé—´ å¹¶ä¸” userdata åŠ ä¸Š previewdata è¿™å°± 500kb äº† ä½†æ˜¯è¿œæ²¡æœ‰è¶…è¿‡ 4M  
ç«ç‹ 51 ä¾ç„¶å¡é¡¿ è¿™å°±è¯´æ˜ ä¸æ˜¯ å‚¨å­˜é—®é¢˜å¯¼è‡´çš„ è€Œæ˜¯ åº”ä¸ºå†…å­˜ä¸­çš„ä¸œè¥¿å¤ªå¤šäº†å¯¼è‡´çš„ å¤§æ¦‚ç‡æ˜¯ G2 å¯¼è‡´çš„ æ‰€ä»¥ ç«ç‹ 51 çš„ä¼˜åŒ–è¿˜æ˜¯å¾—åœ¨ G2 ä¸Šä¸‹åŠŸå¤«  
ç›®å‰çš„å¡é¡¿ç¨‹åº¦æŒ‡æ•°çº§ä¸Šå‡ ã€‚ã€‚ã€‚ã€‚  
ä¹Ÿæœ‰å¯èƒ½æ˜¯å› ä¸ºé‡ç»˜æ¬¡æ•°å¤ªå¤šçš„åŸå›    
å¤§æ¦‚ç‡éœ€è¦å¤šé¡µé¢äº† ä½†æ˜¯å¤šé¡µé¢æœ‰ä¸ªé—®é¢˜ å¦‚ä½•ä¼ å€¼å•Š  
å¦‚æœè¦æ˜¯ å¤šä¸ªé¡µé¢çš„è¯ éœ€ä¸éœ€è¦æ¨åˆ°é‡åšå•Š
å±•ç¤ºå¤§å±æ”¹æˆæ•°ç»„ æ·»åŠ å¤šä¸ªæ•°æ®åº“ æ–°å»ºä¸€ä¸ªé¡µé¢å°±æ·»åŠ ä¸€ä¸ªæ•°æ®åº“
åˆ°æ—¶å€™å–å€¼ æœ‰å¤šå°‘ä¸ªæ•°æ®å°±å±•ç¤ºå¤šå°‘ä¸ªç„¶åå¯ä»¥ç›´æ¥ç‚¹è¿›å»å±•ç¤º ï¼Œä½†æ˜¯åˆ¶ä½œå‘¢
è¿˜è¦ä¸€ä¸ªå¤„ç†é€»è¾‘å°±æ˜¯ é¡µé¢ä¸Šæ˜¾ç¤º å¯ä»¥é€‰æ‹©å¤šä¸ªé¡µé¢ å“è¥¿å§  
å°±æ˜¯ ä¸»é¡µä¸Š åªæœ‰ä¸€ä¸ª åˆ¶ä½œå¤§å± åˆ¶ä½œå¤§å±å†…éƒ¨å¯ä»¥ é€‰æ‹© ç©¶ç«Ÿ æ›´æ”¹é‚£ä¸ª å¤§å±é¡µé¢
æœ‰è®¸å¤šä¸ª å±•ç¤ºå¤§å± æˆ–è€…è¿™æ · å†å†™ä¸€ä¸ªé¡µé¢ è¿™ä¸ªé¡µé¢ä¸Šæ˜¾ç¤ºå¤šä¸ª å±•ç¤ºå¤§å±

å¡é¡¿çš„åŸå› ä¹Ÿæœ‰å¯èƒ½æ˜¯ ä¸œè¥¿å¤ªå¤šäº† æ¯ä¸€å±‚éƒ½æœ‰åŒæ ·å¤šçš„ å…ƒç´  è¿™ä¸ªä¸è¡Œ
å…ˆè¿›è¡Œ æ ¹æ®å±‚çº§åˆ†ç»„ ç„¶åå†è¿›è¡Œæ¸²æŸ“  ok é¡ºæ»‘å¼‚å¸¸ å“ˆå“ˆå“ˆ ğŸ¤£ğŸ¤£ğŸ¤£ æ­¤è·¯é€šç•…


### åˆ†ç»„æ–¹å¼

```js
let a = [[{},{},],[],[]] ä¸€ä¸ªæ€»çš„æ•°ç»„ ç”¨æ¥map

useEffect (()=>{
  let a : any[] = [];
  pstate.pointData[0].item.config.layerList.map(
    (layoutval: { zIndex: number }) => {
     let b =  pstate.pointData.filter(value => {
           return value.item.config.zIndex === layoutval.zIndex
     })
     if(b.lenght>0){
      a.push(b);
     }

     }
  )
  console.log("a",a)
},[pstate.pointData])


```
### ç»“è®º
è™½ç„¶å‡å°‘åˆ°äº† grid ä¸­çš„æ— ç”¨ DIV ä¹Ÿå‡å°‘äº† æ— ç”¨å±‚çº§ ä¼˜åŒ–æ•ˆæœæå‡æ˜æ˜¾  ä½†æ˜¯ è¿™ä¸ª æ„å‘³ç€  é¡µé¢ä¸èƒ½å­˜åœ¨å¤ªå¤šå…ƒç´   æŒ‡å®šæ˜¯éœ€è¦ å¤šé¡µé¢äº† 
Container çš„ ç§»åŠ¨æ€»æ˜¯ä¼šå¼•èµ· SourceBox çš„é‡ç»˜ è¿™ä¸ªå°±å¾ˆéº»çƒ¦äº† å› ä¸º Container ä¿®æ”¹äº† SourceBox çš„ä½ç½®ä¿¡æ¯ è‚¯å®šæ˜¯è¦å¼•èµ·é‡ç»˜çš„ ã€‚ã€‚ã€‚ã€‚

**ç°åœ¨çš„é—®é¢˜å·²ç»è½¬ç§»åˆ° ç‚¹å‡»æ‰§è¡ŒåŠ¨ä½œä¸Šäº†**  ä¸€æ¬¡æ€§dispatch è€Œä¸æ˜¯é€ä¸ª dispatch  å¯èƒ½æ˜¯å› ä¸ºä¸€ä¸ªdispatchå°±ä¼šå¼•èµ·ä¸€æ¬¡é‡ç»˜  ä¸€æ¬¡æ€§ç›´æ¥ æå®šå°±ä¸ä¼šæœ‰ å¤ªå¤šçš„ é‡ç»˜

https://codesandbox.io/s/j3zrqpzkr5
https://codesandbox.io/s/71ly7qx83x?from-embed

## indexdb é—®é¢˜ âœ…

ğŸ’«indexdb æ˜¯å¼‚æ­¥çš„ æ— æ³•å’Œ dva åˆå¹¶ è€Œä¸” umijs ç›®å‰ä¸æ”¯æŒ top-level await  
ğŸ’« ç¬¬ä¸€ç§æ–¹æ³• dva ä¸ä½¿ç”¨ indexdb çš„å€¼ è€Œæ˜¯ç”¨ å†…å­˜ä¸­çš„ æ˜¾ç„¶ä¸åˆç† ä½†æ˜¯ä¹Ÿæ˜¯æ²¡åŠæ³•  
ğŸ’« ç¬¬äºŒç§æ–¹æ³• åˆ›å»ºä¸€ä¸ª å…¬å…±å˜é‡ åœ¨ é¡µé¢åˆå§‹åŒ–çš„æ—¶å€™å°±å°†å€¼ è·å–åˆ° ç„¶å å†èµ‹å€¼ ä½†æ˜¯ export æ°¸è¿œéƒ½æ˜¯è¦ç­‰çš„å•Š å“è¥¿å§å•Š  
âœ… ç¬¬ä¸‰ç§æ–¹æ³• ä½¿ç”¨ dva çš„ effects åŠ æ²¹ ğŸ˜ æˆåŠŸ ğŸ˜ğŸ˜

## å›¾ç‰‡ä¸Šä¼  é—®é¢˜ âœ…

ç¬¬ä¸€æ­¥å‰ç«¯æ£€éªŒ ä¸Šä¼ æ–‡ä»¶åç¼€
ç¬¬äºŒæ­¥åç«¯æ£€éªŒ ä¸Šä¼ æ–‡ä»¶åç¼€
æ§åˆ¶é¢æ¿ æ˜¾ç¤º ä¸€ä¸ªæ˜¯ä¸Šä¼ æŒ‰é’® ä¸€ä¸ªæ˜¯å½“å‰å›¾ç‰‡çš„é¢„è§ˆ
å¤„ç†é€»è¾‘ ä¸Šä¼ ä¹‹åè¿”å›ä¸€ä¸ª è·¯å¾„å€¼ ç„¶åç›´æ¥æ˜¾ç¤º èµ‹å€¼ç»™ api ä¸å†æ˜¾ç¤º api emmmmmm
ä¸Šä¼ åçš„æ–‡å­—åç§°ä¸º æ—¶é—´æˆ³ éœ€ä¸éœ€è¦ æ”¹å˜ç‚¹ä»€ä¹ˆ è¦æ˜¯ æ–‡ä»¶å¤ªå¤šçš„è¯ emmmm åº”è¯¥ä¸ä¼š é‚£å°±æ˜¯ å››ä½éšæœºå­—ç¬¦ä¸²åŠ æ—¶é—´æˆ³ å¯èƒ½éœ€è¦åŠ é¡µé¢ä¿¡æ¯
è·¯å¾„åœ¨ static/upload è·¯å¾„ä¸‹é¢
åç«¯è¿˜å¯èƒ½è¿˜æœ‰ nodejs çš„ crypto æ¨¡å—
åç«¯å¤„ç†é€»è¾‘

```js
const moment = require("moment");
console.log(moment());
const fs = require("fs");
const fileExtension = fileName
  .substring(fileName.lastIndexOf(".") + 1)
  .toLowerCase();
fs.wirteFileSync(
  randomString + moment().toString + "." + fileExtension,
  imgContentOrFile
);
```


## åœ°å›¾ 
https://blog.csdn.net/qq_29602347/article/details/103179648 openlayers æ·»åŠ é˜´å½±  
https://blog.csdn.net/liyan_gis/article/details/79236192?utm_source=app  
https://jingyan.baidu.com/article/91f5db1b23869c1c7f05e30c.html  åº•å›¾åˆ¶ä½œ

https://ilocation.gitee.io/plot4ol3sample/

## åœ°å›¾é—®é¢˜
### é—®é¢˜ä¸€ 
é¦–å…ˆæŠŠ åœ°å›¾çš„ip å¼€å‡ºæ¥ä¸ç„¶æ²¡åŠæ³• è¿ç§» è·Ÿå›¾ç‰‡ä¼¼çš„
è¦ä¸è¦ ç”¨nodejsåå°åšä»£ç† https://blog.csdn.net/geol200709/article/details/106279257
### é—®é¢˜äºŒ
åœ°å›¾æ˜¯è‡ªå·±å‘å¸ƒè‡ªå·±åšçš„ ä¸€å®šæ˜¯å®šåˆ¶çš„  å› ä¸ºè¿™ä¸œè¥¿è°éƒ½ä¸ä¼š å¼€å‡ºæ¥çš„åªæœ‰ æŸä¸ªåŒºåŸŸçš„åœ°å›¾è€Œå·²
æ‰“ç‚¹ ä¹Ÿæ˜¯ éœ€è¦å’Œåç«¯æ²Ÿé€šå»åš
åœ°å›¾ä¸Š æ˜¾ç¤º ä¿¡æ¯æ¡† https://openlayers.org/en/latest/examples/popup.html

å¯¹å¤–æ¥å£ï¼Œæ”¯æŒå¯¹å…³é”®åœ°æ ‡ã€åŒºåŸŸè¿›è¡Œæ ‡ç»˜

å¯¹å¤–æ¥å£æ˜¯ä»€ä¹ˆ
å…³é”®åœ°æ ‡åŒºåŸŸ çš„æ ‡ç»˜ æ˜¯ æ€æ ·çš„é€»è¾‘    
è¿›è¡Œçš„æ ‡ç»˜ æ˜¯å¦éœ€è¦ä¿å­˜ ç­‰ä¸‹æ¬¡æ‰“å¼€è¿˜æœ‰


### ä¿®å¤ä¸€ä¸‹ bug
å³ä¸‹è§’ å·¥å…·æ   âœ…
å·¦ä¾§èœå•æ  ç¼©å›å’Œå±•å¼€ æ˜¾ç¤ºä¸æ­£ç¡® âœ…
ä¸èƒ½æ–°å¢å±‚çº§
æ˜¾ç¤ºå¤ªçŸ­å› ä¸º imgè®¾ç½®çš„æ˜¯80%  åé¢è¦ä¿®æ”¹ä¸º æ•´ä½“è®¾ç½®ä¸º100%    width: 64%; transform: translate(20%,0%)

### æ–°å¢åŠŸèƒ½ 
å°†åœ°å›¾æ”¾è¿›å¤§å±ç³»ç»Ÿä¸­ (è¿˜æœªæˆåŠŸå…¼å®¹ å¤§å±ç³»ç»Ÿ)



# æœ‰è¶£çš„ SVG é¡¹ç›®

https://github.com/SVG-Edit/svgedit
https://github.com/danilowoz/react-content-loader
https://github.com/miukimiu/react-kawaii
https://github.com/react-icons/react-icons
https://github.com/gregberge/svgr
http://www.zuohaotu.com/svg/
https://github.com/projectstorm/react-diagrams
